extends layout 

block content 
    script.
        console.log("Testing inline script");
        function myFunction() {
        console.log("Testing inline script");
        // Declare variables
        var input, filter, ul, li, a, i, txtValue;
        input = document.getElementById('myInput');
        filter = input.value.toUpperCase();
        ul = document.getElementById("myUL");
        li = ul.getElementsByTagName('li');
        console.log(input.innerText);
        ul.style.display = "block";
        

        // Loop through all list items, and hide those who don't match the search query
        for (i = 0; i < li.length; i++) {
            a = li[i].getElementsByTagName("a")[0];
            txtValue = a.textContent || a.innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
            } else {
            li[i].style.display = "none";
            }
            //- ul.style.height = `${i*1.5}px`;
        }
        };

        function myTestFunc(v) {
            console.log(v)
        }
    div(class="mainCont")
        
        h1=title
        if renderCompare 

            p You chose: #{name} 
            p Your plane's Battle Rating: #{plane_br}
            p The BR range you picked: +- #{br}
            hr
           
            if items 
                p Number of different planes you might face at your rating: #{items.length}
                hr
                ul
                    each item in items 
                        li 
                            a(href=item._id)=item.name
                            p BR: #{item.rating_RB}
                            p Max climb rate: #{item.max_climb_RB} m/s
                            p Max turn rate: #{item.turn_time_RB} s
                            p Max speed: #{item.max_speed_RB} Km/h
        else
            form(method='POST')
                div.form-group 
                    label(for='plane')
                    input(type="text" id='myInput' name='myInput' onkeyup='myFunction()' placeholder='Search for names...')
                    ul(id="myUL")
                        each airplane in airplanes 
                            li 
                                a(href='#' onclick='myTestFunc(airplane.name)')=airplane.name
                    select#plane.form-control(name='plane' required)
                        option(value='') --Please select an airplane--
                            each airplane in airplanes 
                                option(value=`${airplane.name}@BREAK@${airplane.rating_RB}`)=airplane.name
        
                div.form-group
                    label(for='brtarget') Select what BR you'd like to compare your plane to 
                    select#br.form-control(name='br' required)
                        option(value='') --Please select uptier/downtier range
                        option(value='0') 0
                        option(value='0.3') 0.3
                        option(value='0.7') 0.7
                        option(value='1') 1
                div.form-group 
                    label(for='sortType') How would you like to sort the results?
                        br
                        label(for='radioChoice') Speed - fastest to slowest
                        input#sortChoice1.form-control(type='radio' name='radioChoice' value='speedDesc')
                        br
                        label(for='radioChoice') Turn rate - fastest to slowest
                        input#sortChoice2.form-control(type='radio' name='radioChoice' value='turnAsc')
                        br
                        label(for='radioChoice') Climb rate - fastest to slowest
                        input#sortChoice3.form-control(type='radio' name='radioChoice' value='climbDesc')
                        br
                        label(for='radioChoice') How many are faster than me?
                        input#sortChoice3.form-control(type='radio' name='radioChoice' value='areFaster')

                button.btn.btn-primary(type='submit') Submit
                
                if errors 
                    ul 
                        for error in errors 
                            li!=errors.msg





            //- ul 
            //-     each airplane in airplanes 
            //-         li  
            //-             div(class='container')
            //-                 a(href=airplane.url) #{airplane.name}
            //-                 p Upgraded turn time #{airplane.turn_time_RB_upgraded}s
            //-                 p Stock turn time #{airplane.turn_time_RB_stock}s
            //-                 p Stock speed #{airplane.max_speed_RB_stock} Km/h
            //-                 p Upgraded speed #{airplane.max_speed_RB_upgraded} Km/h
            //-                 img(src=airplane.vehicle_image, width='200px')
            //-                 img(src=airplane.dynamic_url, width='200px')
            //-                 hr
